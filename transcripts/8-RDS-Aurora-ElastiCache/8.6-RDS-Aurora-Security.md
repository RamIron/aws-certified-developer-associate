# 8.6 - RDS & Aurora Security

## Key Concepts

### 1. At-Rest Encryption
- Data encrypted on the volumes using **KMS**
- Must be defined at **launch time**
- If the master is **not encrypted**, read replicas **cannot be encrypted**
- To encrypt an existing unencrypted database:
  1. Take a **snapshot** of the unencrypted DB
  2. **Restore** the snapshot as an encrypted database

### 2. In-Flight Encryption
- RDS and Aurora support TLS encryption **by default**
- Clients must use **TLS root certificates** from AWS to connect securely

### 3. Database Authentication

| Method | Description |
|--------|-------------|
| **Username / Password** | Classic approach |
| **IAM Roles** | EC2 instances authenticate via IAM role — no username/password needed |

### 4. Network Access Control
- Use **security groups** to control access (ports, IPs, other security groups)

### 5. No SSH Access
- RDS and Aurora are managed services — **no SSH** (except RDS Custom)

### 6. Audit Logs
- Enable **Audit Logs** to track queries and database activity
- Logs are lost after a period of time → send to **CloudWatch Logs** for long-term retention

---

## Exam Tips
- At-rest encryption uses **KMS**, defined at launch — unencrypted master = unencrypted replicas
- To encrypt an existing DB: **snapshot → restore as encrypted**
- In-flight encryption via **TLS** is available by default
- **IAM roles** can authenticate to RDS/Aurora (no username/password needed)
- No SSH access (managed service) — except **RDS Custom**
- Audit Logs → **CloudWatch Logs** for long-term storage
