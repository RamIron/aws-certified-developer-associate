# 8.2 - RDS Read Replicas vs Multi AZ

## Key Concepts

### 1. RDS Read Replicas — Scaling Reads

- Purpose: **scale read performance**
- Up to **15 Read Replicas**
- Placement options: **same AZ**, **cross AZ**, or **cross region**
- Replication is **asynchronous** → reads are **eventually consistent**
- Read Replicas can be **promoted** to their own standalone database (leaves the replication mechanism)
- Read Replicas are **read-only**: only SELECT statements (no INSERT, UPDATE, DELETE)

```
                    ┌─── Read Replica 1 ◄── Reporting app (reads only)
                    │    (async replication)
[App] ──R/W──► [Main RDS DB]
                    │    (async replication)
                    └─── Read Replica 2 ◄── Analytics app (reads only)
```

### 2. Read Replicas — Use Case

**Problem:** A reporting team wants to run analytics on your production data, but plugging into the main DB would overload it.

**Solution:** Create a Read Replica → reporting app reads from the replica → production DB is unaffected.

### 3. Read Replicas — Network Cost

| Scenario | Cost |
|----------|------|
| Same region, different AZ | **Free** (managed service exception) |
| Cross region | **Replication fee applies** |

### 4. RDS Multi AZ — Disaster Recovery

- Purpose: **high availability / disaster recovery** (NOT scaling)
- **Synchronous replication** to a standby instance in a different AZ
- One **DNS name** → automatic failover to standby if master fails
- Failover triggers: AZ loss, network failure, instance/storage failure
- Standby is **not readable** — it's purely for failover
- **No manual intervention** needed — app keeps connecting to same DNS name

```
                         sync replication
[App] ──R/W──► [Master DB (AZ-A)] ─────────────► [Standby DB (AZ-B)]
                    ▲                                     │
                    │         automatic failover           │
                    └─────────────────────────────────────┘
                              (same DNS name)
```

### 5. Read Replicas Can Be Multi AZ
- You can set up a Read Replica **as Multi AZ** for disaster recovery
- Common exam question!

### 6. Single AZ → Multi AZ Conversion
- **Zero downtime** operation — just click "Modify" and enable Multi AZ
- No need to stop the database

**What happens internally:**
1. RDS takes a **snapshot** of the main database
2. Snapshot is **restored** into a new standby database
3. **Synchronization** is established between main and standby

---

## Read Replicas vs Multi AZ — Comparison

| Feature | Read Replicas | Multi AZ |
|---------|--------------|----------|
| **Purpose** | Scale reads | Disaster recovery |
| **Replication** | Asynchronous | Synchronous |
| **Consistency** | Eventually consistent | Fully consistent |
| **Max count** | 15 | 1 standby |
| **Readable?** | Yes (SELECT only) | No (standby only) |
| **Cross region?** | Yes | No (same region, different AZ) |
| **Use for scaling?** | Yes | No |
| **Promotion** | Can become standalone DB | Standby becomes master on failover |

---

## Exam Tips
- Read Replicas = **read scaling**, async, eventually consistent, up to 15
- Multi AZ = **disaster recovery**, sync, automatic failover, NOT for scaling
- Read Replicas are **read-only** (SELECT only)
- Standby in Multi AZ is **not readable**
- Read Replicas can also be set up as Multi AZ
- Same-region replication is **free**, cross-region has a **network fee**
- Single AZ → Multi AZ = **zero downtime** (modify setting, no DB stop)
- Behind the scenes: snapshot → restore to standby → sync established
