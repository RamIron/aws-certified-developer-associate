# 4.4 - IAM Policies

## Key Concepts

### 1. Policy Attachment (Group vs Inline)
- **Group policy** — attached to a group, inherited by all users in that group
- **Inline policy** — attached directly to a single user (regardless of group membership)
- A user can inherit policies from **multiple groups** + have their own inline policies

### 2. IAM Policy JSON Structure
```json
{
  "Version": "2012-10-17",
  "Id": "S3-Account-Permissions",
  "Statement": [
    {
      "Sid": "1",
      "Effect": "Allow",
      "Principal": { "AWS": "arn:aws:iam::123456789012:root" },
      "Action": "s3:GetObject",
      "Resource": "arn:aws:s3:::my-bucket/*",
      "Condition": { }
    }
  ]
}
```

**Top-level elements:**
- `Version` — policy language version (always `2012-10-17`)
- `Id` — optional identifier for the policy
- `Statement` — one or more individual statements (required)

**Statement elements:**
- `Sid` — statement ID (optional)
- `Effect` — `Allow` or `Deny`
- `Principal` — which account/user/role the policy applies to
- `Action` — list of API calls allowed or denied
- `Resource` — list of resources the actions apply to
- `Condition` — when the statement applies (optional)

## Exam Tips
- Know all 4 core statement elements: **Effect**, **Principal**, **Action**, **Resource**
- A user's effective permissions = sum of all group policies + inline policies
- `Effect` is always either `Allow` or `Deny`
