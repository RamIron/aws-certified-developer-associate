# 6.8 - EBS Volume Types

## Key Concepts

### 1. The 6 EBS Volume Types (Overview)

| Type       | Category                  | Use Case                              | Boot Volume? |
|------------|---------------------------|---------------------------------------|--------------|
| gp2        | General Purpose SSD       | Balanced price/performance            | ✅ Yes       |
| gp3        | General Purpose SSD       | Balanced price/performance (newer)    | ✅ Yes       |
| io1        | Provisioned IOPS SSD      | Mission-critical, high IOPS databases | ✅ Yes       |
| io2        | Provisioned IOPS SSD      | Mission-critical, highest IOPS        | ✅ Yes       |
| st1        | Throughput Optimized HDD  | Big data, data warehouses, log proc.  | ❌ No        |
| sc1        | Cold HDD                  | Infrequently accessed data            | ❌ No        |

**Rule:** Only SSDs (gp2, gp3, io1, io2) can be used as boot volumes.

---

### 2. General Purpose SSD: gp2 vs gp3

| Feature      | gp2                                      | gp3                                         |
|--------------|------------------------------------------|---------------------------------------------|
| Size         | 1 GiB – 16 TiB                           | 1 GiB – 16 TiB                              |
| Baseline IOPS| 3 IOPS/GiB (max 16,000)                  | 3,000 IOPS (baseline, independent of size)  |
| Max IOPS     | 16,000 (at 5,334 GiB)                    | 16,000 IOPS                                 |
| Throughput   | Linked to IOPS (not independent)         | Up to 1,000 MiB/s (independent of IOPS)     |
| Scaling      | IOPS scales WITH volume size             | IOPS and throughput scale INDEPENDENTLY     |

**Key difference:** gp3 decouples IOPS from size — you can provision them separately.

---

### 3. Provisioned IOPS SSD: io1 vs io2

| Feature         | io1                        | io2 Block Express              |
|-----------------|----------------------------|--------------------------------|
| Size            | 4 GiB – 16 TiB             | 4 GiB – 64 TiB                 |
| Max IOPS        | 64,000 (on Nitro EC2)      | 256,000 IOPS                   |
| IOPS:GiB ratio  | 50:1                       | 1,000:1                        |
| Latency         | Sub-millisecond            | Sub-millisecond                |
| Multi-Attach    | ✅ Supported                | ✅ Supported                   |

**When to use:** Databases requiring >16,000 IOPS, or sustained IOPS performance.
**Nitro rule:** To get max IOPS on io1/io2, the EC2 instance must be Nitro-based.

---

### 4. HDD Volumes: st1 vs sc1

| Feature       | st1 (Throughput Optimized) | sc1 (Cold HDD)                   |
|---------------|----------------------------|----------------------------------|
| Size          | 125 GiB – 16 TiB           | 125 GiB – 16 TiB                 |
| Max throughput| 500 MiB/s                  | 250 MiB/s                        |
| Max IOPS      | 500                        | 250                              |
| Use Case      | Big data, logs, ETL        | Infrequently accessed archives   |
| Cost          | Higher than sc1            | Lowest cost EBS option           |

**Cannot be boot volumes.**

---

### 5. Decision Framework — Choosing the Right Volume

```
Need a BOOT volume?
├── NO  → Can use st1 or sc1 (HDD)
└── YES → Must use SSD (gp2, gp3, io1, io2)
          │
          ├── Need >16,000 IOPS?
          │   ├── YES → io1 or io2
          │   │         ├── Need >64,000 IOPS? → io2 Block Express (max 256K)
          │   │         └── Need max IOPS?     → must use Nitro EC2
          │   └── NO  → gp2 or gp3
          │             └── Need independent IOPS/throughput? → gp3
          │                 Otherwise gp2 is fine too
          │
          └── Throughput-intensive, no high IOPS?
              ├── Frequently accessed → st1
              └── Infrequently accessed / cheapest → sc1
```

### 6. Full Summary Table

| Type | Family | Max IOPS  | Max Throughput | Boot? | Best For                    |
|------|--------|-----------|----------------|-------|-----------------------------|
| gp2  | SSD    | 16,000    | 250 MiB/s      | ✅    | General workloads (legacy)  |
| gp3  | SSD    | 16,000    | 1,000 MiB/s    | ✅    | General workloads (current) |
| io1  | SSD    | 64,000    | 1,000 MiB/s    | ✅    | High IOPS databases         |
| io2  | SSD    | 256,000   | 4,000 MiB/s    | ✅    | Mission-critical, max IOPS  |
| st1  | HDD    | 500       | 500 MiB/s      | ❌    | Big data, logs, ETL         |
| sc1  | HDD    | 250       | 250 MiB/s      | ❌    | Cold archives, lowest cost  |

---

## Exam Tips

- **gp3 vs gp2:** gp3 is the newer type; IOPS and throughput are provisioned independently from size
- **gp2:** IOPS tied to volume size (3 IOPS per GiB, max 16,000)
- **>32,000 IOPS?** → Need io1 or io2 on a Nitro instance (gp max is 16,000)
- **>64,000 IOPS?** → Only io2 Block Express (up to 256,000)
- **HDD volumes (st1, sc1):** Cannot boot; use for throughput/archive workloads
- **Cheapest EBS option:** sc1 (Cold HDD)
- **Boot volume types:** gp2, gp3, io1, io2 only
